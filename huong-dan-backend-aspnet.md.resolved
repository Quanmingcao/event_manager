# H∆∞·ªõng d·∫´n Visual Studio: Backend ASP.NET Core cho Event Manager

> [!IMPORTANT]
> H∆∞·ªõng d·∫´n n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø cho **Visual Studio 2022** (m√†u t√≠m), v·ªõi c√°c b∆∞·ªõc th·ª±c hi·ªán tr·ª±c quan qua giao di·ªán. Backend s·∫Ω k·∫øt n·ªëi v·ªõi Supabase PostgreSQL database hi·ªán c√≥ c·ªßa b·∫°n.

---

## üìã M·ª•c l·ª•c

1. [T·∫°o Solution trong Visual Studio](#b∆∞·ªõc-1-t·∫°o-solution-trong-visual-studio)
2. [C·∫•u tr√∫c th∆∞ m·ª•c v√† Projects](#b∆∞·ªõc-2-c·∫•u-tr√∫c-th∆∞-m·ª•c-v√†-projects)
3. [C√†i ƒë·∫∑t NuGet Packages](#b∆∞·ªõc-3-c√†i-ƒë·∫∑t-nuget-packages)
4. [T·∫°o Entity Models](#b∆∞·ªõc-4-t·∫°o-entity-models)
5. [C·∫•u h√¨nh Database Context](#b∆∞·ªõc-5-c·∫•u-h√¨nh-database-context)
6. [Thi·∫øt l·∫≠p Authentication](#b∆∞·ªõc-6-thi·∫øt-l·∫≠p-authentication)
7. [X√¢y d·ª±ng Controllers](#b∆∞·ªõc-7-x√¢y-d·ª±ng-controllers)
8. [T·∫°o Services](#b∆∞·ªõc-8-t·∫°o-services)
9. [C·∫•u h√¨nh Program.cs](#b∆∞·ªõc-9-c·∫•u-h√¨nh-programcs)
10. [Ch·∫°y v√† Test](#b∆∞·ªõc-10-ch·∫°y-v√†-test)

---

## B∆∞·ªõc 1: T·∫°o Solution trong Visual Studio

### 1.1 M·ªü Visual Studio 2022

1. M·ªü **Visual Studio 2022**
2. Click **"Create a new project"**

### 1.2 Ch·ªçn Template

1. T√¨m ki·∫øm: **"ASP.NET Core Web API"**
2. Ch·ªçn template **ASP.NET Core Web API** (C#)
3. Click **Next**

### 1.3 C·∫•u h√¨nh Project

```
Project name: EventManager.API
Location: C:\Users\User\Desktop\EventManagerBackend
Solution name: EventManager
```

4. Click **Next**

### 1.4 C·∫•u h√¨nh Framework

```
Framework: .NET 8.0 (Long Term Support)
Authentication type: None (ch√∫ng ta s·∫Ω t·ª± l√†m JWT)
‚òë Configure for HTTPS
‚òë Enable OpenAPI support (Swagger)
‚òê Use controllers (UNCHECK - ch√∫ng ta s·∫Ω d√πng controllers)
```

> [!NOTE]
> **Quan tr·ªçng**: ƒê·∫£m b·∫£o **UNCHECK** "Use controllers" n·∫øu n√≥ ƒë∆∞·ª£c check s·∫µn, sau ƒë√≥ ch√∫ng ta s·∫Ω th√™m controllers th·ªß c√¥ng.

5. Click **Create**

---

## B∆∞·ªõc 2: C·∫•u tr√∫c th∆∞ m·ª•c v√† Projects

### 2.1 Th√™m c√°c Class Library Projects

Trong Visual Studio:

1. **Right-click** v√†o Solution `EventManager` trong **Solution Explorer**
2. Ch·ªçn **Add ‚Üí New Project**
3. Ch·ªçn **Class Library** (C#)
4. ƒê·∫∑t t√™n: `EventManager.Domain`
5. Framework: **.NET 8.0**
6. Click **Create**

**L·∫∑p l·∫°i** ƒë·ªÉ t·∫°o th√™m 2 projects:
- `EventManager.Application`
- `EventManager.Infrastructure`

### 2.2 Thi·∫øt l·∫≠p Project References

#### EventManager.API references:
1. Right-click **EventManager.API** ‚Üí **Add ‚Üí Project Reference**
2. Check ‚òë `EventManager.Application`
3. Check ‚òë `EventManager.Infrastructure`
4. Click **OK**

#### EventManager.Application references:
1. Right-click **EventManager.Application** ‚Üí **Add ‚Üí Project Reference**
2. Check ‚òë `EventManager.Domain`
3. Click **OK**

#### EventManager.Infrastructure references:
1. Right-click **EventManager.Infrastructure** ‚Üí **Add ‚Üí Project Reference**
2. Check ‚òë `EventManager.Application`
3. Click **OK**

### 2.3 C·∫•u tr√∫c th∆∞ m·ª•c cu·ªëi c√πng

Sau khi ho√†n th√†nh, Solution Explorer s·∫Ω tr√¥ng nh∆∞ sau:

```
üìÅ EventManager (Solution)
‚îú‚îÄ‚îÄ üìÅ EventManager.API
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Controllers (s·∫Ω t·∫°o sau)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Hubs (s·∫Ω t·∫°o sau)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Properties
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ appsettings.json
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ EventManager.API.csproj
‚îÇ
‚îú‚îÄ‚îÄ üìÅ EventManager.Application
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ DTOs (s·∫Ω t·∫°o sau)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Auth
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Services (s·∫Ω t·∫°o sau)
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ EventManager.Application.csproj
‚îÇ
‚îú‚îÄ‚îÄ üìÅ EventManager.Domain
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Entities (s·∫Ω t·∫°o sau)
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ EventManager.Domain.csproj
‚îÇ
‚îî‚îÄ‚îÄ üìÅ EventManager.Infrastructure
    ‚îú‚îÄ‚îÄ üìÅ Data (s·∫Ω t·∫°o sau)
    ‚îú‚îÄ‚îÄ üìÅ Services (s·∫Ω t·∫°o sau)
    ‚îî‚îÄ‚îÄ üìÑ EventManager.Infrastructure.csproj
```

---

## B∆∞·ªõc 3: C√†i ƒë·∫∑t NuGet Packages

### 3.1 C√†i cho EventManager.API

1. Right-click **EventManager.API** ‚Üí **Manage NuGet Packages**
2. Click tab **Browse**
3. T√¨m v√† c√†i ƒë·∫∑t c√°c packages sau:

```
‚úì Microsoft.EntityFrameworkCore.Design (8.0.x)
‚úì Microsoft.AspNetCore.Authentication.JwtBearer (8.0.x)
‚úì Swashbuckle.AspNetCore (6.5.x)
```

### 3.2 C√†i cho EventManager.Infrastructure

1. Right-click **EventManager.Infrastructure** ‚Üí **Manage NuGet Packages**
2. C√†i ƒë·∫∑t:

```
‚úì Npgsql.EntityFrameworkCore.PostgreSQL (8.0.x)
‚úì Microsoft.EntityFrameworkCore (8.0.x)
‚úì Microsoft.EntityFrameworkCore.Tools (8.0.x)
```

### 3.3 C√†i cho EventManager.Application

1. Right-click **EventManager.Application** ‚Üí **Manage NuGet Packages**
2. C√†i ƒë·∫∑t:

```
‚úì FluentValidation (11.x)
‚úì AutoMapper (12.x)
```

> [!TIP]
> Sau khi c√†i xong, build solution ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng c√≥ l·ªói: **Build ‚Üí Build Solution** (Ctrl+Shift+B)

---

## B∆∞·ªõc 4: T·∫°o Entity Models

### 4.1 T·∫°o th∆∞ m·ª•c Entities

1. Right-click **EventManager.Domain**
2. **Add ‚Üí New Folder**
3. ƒê·∫∑t t√™n: `Entities`

### 4.2 T·∫°o c√°c Entity Classes

#### T·∫°o Event.cs

1. Right-click folder **Entities**
2. **Add ‚Üí Class**
3. T√™n file: `Event.cs`
4. Click **Add**
5. Paste code sau:

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Event
    {
        public Guid Id { get; set; }
        public string Name { get; set; } = string.Empty;
        public string? Organizer { get; set; }
        public DateTime? StartDate { get; set; }
        public string? Location { get; set; }
        public string? Format { get; set; } // offline, online, hybrid
        public string? ScriptLink { get; set; }
        public string? TimelineLink { get; set; }
        public string Status { get; set; } = "Planning";
        public string? OutcomeSummary { get; set; }
        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;

        // Navigation properties
        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
        public ICollection<EventFinance> EventFinances { get; set; } = new List<EventFinance>();
    }
}
```

#### T·∫°o Staff.cs

T∆∞∆°ng t·ª±, t·∫°o file `Staff.cs`:

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Staff
    {
        public Guid Id { get; set; }
        public string FullName { get; set; } = string.Empty;
        public string? StaffType { get; set; }
        public string? Phone { get; set; }
        public string? Department { get; set; }

        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
    }
}
```

#### T·∫°o TaskTemplate.cs

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class TaskTemplate
    {
        public Guid Id { get; set; }
        public string TaskName { get; set; } = string.Empty;
        public string? Description { get; set; }

        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
    }
}
```

#### T·∫°o EventTask.cs

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class EventTask
    {
        public Guid Id { get; set; }
        public Guid EventId { get; set; }
        public Guid? TaskId { get; set; }
        public Guid? StaffId { get; set; }
        public string Status { get; set; } = "Pending";
        public string? Note { get; set; }

        public Event Event { get; set; } = null!;
        public TaskTemplate? Task { get; set; }
        public Staff? Staff { get; set; }
    }
}
```

#### T·∫°o Service.cs

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Service
    {
        public Guid Id { get; set; }
        public string ServiceName { get; set; } = string.Empty;
        public decimal BasePrice { get; set; } = 0;

        public ICollection<EventFinance> EventFinances { get; set; } = new List<EventFinance>();
    }
}
```

#### T·∫°o EventFinance.cs

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class EventFinance
    {
        public Guid Id { get; set; }
        public Guid EventId { get; set; }
        public Guid? ServiceId { get; set; }
        public decimal EstimatedAmount { get; set; } = 0;
        public string? EstimatedNote { get; set; }
        public decimal ExtraAmount { get; set; } = 0;
        public string? ExtraNote { get; set; }
        public decimal TotalAmount => EstimatedAmount + ExtraAmount;

        public Event Event { get; set; } = null!;
        public Service? Service { get; set; }
    }
}
```

#### T·∫°o Profile.cs

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class Profile
    {
        public Guid Id { get; set; }
        public string? Email { get; set; }
        public string? FullName { get; set; }
        public string Role { get; set; } = "staff";
        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;
    }
}
```

### 4.3 Ki·ªÉm tra c·∫•u tr√∫c

Folder **Entities** c·ªßa b·∫°n b√¢y gi·ªù s·∫Ω c√≥:

```
üìÅ Entities
‚îú‚îÄ‚îÄ üìÑ Event.cs
‚îú‚îÄ‚îÄ üìÑ Staff.cs
‚îú‚îÄ‚îÄ üìÑ TaskTemplate.cs
‚îú‚îÄ‚îÄ üìÑ EventTask.cs
‚îú‚îÄ‚îÄ üìÑ Service.cs
‚îú‚îÄ‚îÄ üìÑ EventFinance.cs
‚îî‚îÄ‚îÄ üìÑ Profile.cs
```

---

## B∆∞·ªõc 5: C·∫•u h√¨nh Database Context

### 5.1 T·∫°o th∆∞ m·ª•c Data

1. Right-click **EventManager.Infrastructure**
2. **Add ‚Üí New Folder**
3. T√™n: `Data`

### 5.2 T·∫°o ApplicationDbContext.cs

1. Right-click folder **Data**
2. **Add ‚Üí Class**
3. T√™n: `ApplicationDbContext.cs`
4. Paste code sau (CODE D√ÄI - xem ph·∫ßn ti·∫øp theo)

---

## 1. Chu·∫©n b·ªã m√¥i tr∆∞·ªùng

### B∆∞·ªõc 1.1: C√†i ƒë·∫∑t .NET SDK

```powershell
# Ki·ªÉm tra xem ƒë√£ c√†i .NET ch∆∞a
dotnet --version

# N·∫øu ch∆∞a c√≥, t·∫£i v·ªÅ t·ª´: https://dotnet.microsoft.com/download
# Khuy·∫øn ngh·ªã: .NET 8.0 (LTS) ho·∫∑c .NET 9.0
```

### B∆∞·ªõc 1.2: C√†i ƒë·∫∑t c√°c c√¥ng c·ª• c·∫ßn thi·∫øt

```powershell
# C√†i ƒë·∫∑t Entity Framework Core CLI tools
dotnet tool install --global dotnet-ef

# Ki·ªÉm tra
dotnet ef --version
```

### B∆∞·ªõc 1.3: T·∫°o th∆∞ m·ª•c d·ª± √°n

```powershell
# T·∫°o th∆∞ m·ª•c cho backend
cd C:\Users\User\.gemini\antigravity\scratch
mkdir EventManagerBackend
cd EventManagerBackend
```

---

## 2. T·∫°o Solution v√† c·∫•u tr√∫c d·ª± √°n

### B∆∞·ªõc 2.1: T·∫°o Solution

```powershell
# T·∫°o solution
dotnet new sln -n EventManager

# T·∫°o c√°c projects theo Clean Architecture
dotnet new webapi -n EventManager.API
dotnet new classlib -n EventManager.Application
dotnet new classlib -n EventManager.Domain
dotnet new classlib -n EventManager.Infrastructure

# Th√™m projects v√†o solution
dotnet sln add EventManager.API/EventManager.API.csproj
dotnet sln add EventManager.Application/EventManager.Application.csproj
dotnet sln add EventManager.Domain/EventManager.Domain.csproj
dotnet sln add EventManager.Infrastructure/EventManager.Infrastructure.csproj
```

### B∆∞·ªõc 2.2: Thi·∫øt l·∫≠p dependencies gi·ªØa c√°c projects

```powershell
# API ph·ª• thu·ªôc v√†o Application v√† Infrastructure
cd EventManager.API
dotnet add reference ../EventManager.Application/EventManager.Application.csproj
dotnet add reference ../EventManager.Infrastructure/EventManager.Infrastructure.csproj

# Application ph·ª• thu·ªôc v√†o Domain
cd ../EventManager.Application
dotnet add reference ../EventManager.Domain/EventManager.Domain.csproj

# Infrastructure ph·ª• thu·ªôc v√†o Application
cd ../EventManager.Infrastructure
dotnet add reference ../EventManager.Application/EventManager.Application.csproj

cd ..
```

### B∆∞·ªõc 2.3: C√†i ƒë·∫∑t NuGet packages

```powershell
# V√†o project API
cd EventManager.API
dotnet add package Microsoft.EntityFrameworkCore.Design
dotnet add package Microsoft.AspNetCore.Authentication.JwtBearer
dotnet add package Swashbuckle.AspNetCore
dotnet add package Microsoft.AspNetCore.SignalR

# V√†o project Infrastructure
cd ../EventManager.Infrastructure
dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL
dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Microsoft.EntityFrameworkCore.Tools

# V√†o project Application
cd ../EventManager.Application
dotnet add package FluentValidation
dotnet add package AutoMapper

cd ..
```

> [!NOTE]
> Ch√∫ng ta s·ª≠ d·ª•ng **Npgsql** v√¨ Supabase s·ª≠ d·ª•ng PostgreSQL database.

---

## 3. Thi·∫øt l·∫≠p Entity Models

### B∆∞·ªõc 3.1: T·∫°o Domain Entities

Trong project `EventManager.Domain`, t·∫°o th∆∞ m·ª•c `Entities` v√† c√°c file sau:

#### `Entities/Event.cs`

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Event
    {
        public Guid Id { get; set; }
        public string Name { get; set; } = string.Empty;
        public string? Organizer { get; set; }
        public DateTime? StartDate { get; set; }
        public string? Location { get; set; }
        public string? Format { get; set; } // offline, online, hybrid
        public string? ScriptLink { get; set; }
        public string? TimelineLink { get; set; }
        public string Status { get; set; } = "Planning"; // Planning, Running, Completed, Canceled
        public string? OutcomeSummary { get; set; }
        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;

        // Navigation properties
        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
        public ICollection<EventFinance> EventFinances { get; set; } = new List<EventFinance>();
    }
}
```

#### `Entities/Staff.cs`

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Staff
    {
        public Guid Id { get; set; }
        public string FullName { get; set; } = string.Empty;
        public string? StaffType { get; set; } // C√°n b·ªô, Sinh vi√™n, T√¨nh nguy·ªán vi√™n
        public string? Phone { get; set; }
        public string? Department { get; set; }

        // Navigation properties
        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
    }
}
```

#### `Entities/TaskTemplate.cs`

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class TaskTemplate
    {
        public Guid Id { get; set; }
        public string TaskName { get; set; } = string.Empty;
        public string? Description { get; set; }

        // Navigation properties
        public ICollection<EventTask> EventTasks { get; set; } = new List<EventTask>();
    }
}
```

#### `Entities/EventTask.cs`

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class EventTask
    {
        public Guid Id { get; set; }
        public Guid EventId { get; set; }
        public Guid? TaskId { get; set; }
        public Guid? StaffId { get; set; }
        public string Status { get; set; } = "Pending";
        public string? Note { get; set; }

        // Navigation properties
        public Event Event { get; set; } = null!;
        public TaskTemplate? Task { get; set; }
        public Staff? Staff { get; set; }
    }
}
```

#### `Entities/Service.cs`

```csharp
using System;
using System.Collections.Generic;

namespace EventManager.Domain.Entities
{
    public class Service
    {
        public Guid Id { get; set; }
        public string ServiceName { get; set; } = string.Empty;
        public decimal BasePrice { get; set; } = 0;

        // Navigation properties
        public ICollection<EventFinance> EventFinances { get; set; } = new List<EventFinance>();
    }
}
```

#### `Entities/EventFinance.cs`

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class EventFinance
    {
        public Guid Id { get; set; }
        public Guid EventId { get; set; }
        public Guid? ServiceId { get; set; }
        public decimal EstimatedAmount { get; set; } = 0;
        public string? EstimatedNote { get; set; }
        public decimal ExtraAmount { get; set; } = 0;
        public string? ExtraNote { get; set; }
        
        // Computed property (s·∫Ω ƒë∆∞·ª£c t√≠nh trong database)
        public decimal TotalAmount => EstimatedAmount + ExtraAmount;

        // Navigation properties
        public Event Event { get; set; } = null!;
        public Service? Service { get; set; }
    }
}
```

#### `Entities/Profile.cs`

```csharp
using System;

namespace EventManager.Domain.Entities
{
    public class Profile
    {
        public Guid Id { get; set; } // Li√™n k·∫øt v·ªõi auth.users
        public string? Email { get; set; }
        public string? FullName { get; set; }
        public string Role { get; set; } = "staff"; // superadmin, staff
        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;
    }
}
```

---

## 4. C·∫•u h√¨nh Entity Framework Core

### B∆∞·ªõc 4.1: T·∫°o DbContext

Trong project `EventManager.Infrastructure`, t·∫°o th∆∞ m·ª•c `Data` v√† file `ApplicationDbContext.cs`:

```csharp
using Microsoft.EntityFrameworkCore;
using EventManager.Domain.Entities;

namespace EventManager.Infrastructure.Data
{
    public class ApplicationDbContext : DbContext
    {
        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options)
            : base(options)
        {
        }

        public DbSet<Event> Events { get; set; }
        public DbSet<Staff> Staff { get; set; }
        public DbSet<TaskTemplate> TaskTemplates { get; set; }
        public DbSet<EventTask> EventTasks { get; set; }
        public DbSet<Service> Services { get; set; }
        public DbSet<EventFinance> EventFinances { get; set; }
        public DbSet<Profile> Profiles { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);

            // C·∫•u h√¨nh b·∫£ng Events
            modelBuilder.Entity<Event>(entity =>
            {
                entity.ToTable("events");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.Name).HasColumnName("name").IsRequired();
                entity.Property(e => e.Organizer).HasColumnName("organizer");
                entity.Property(e => e.StartDate).HasColumnName("start_date");
                entity.Property(e => e.Location).HasColumnName("location");
                entity.Property(e => e.Format).HasColumnName("format");
                entity.Property(e => e.ScriptLink).HasColumnName("script_link");
                entity.Property(e => e.TimelineLink).HasColumnName("timeline_link");
                entity.Property(e => e.Status).HasColumnName("status").HasDefaultValue("Planning");
                entity.Property(e => e.OutcomeSummary).HasColumnName("outcome_summary");
                entity.Property(e => e.CreatedAt).HasColumnName("created_at").HasDefaultValueSql("now()");
            });

            // C·∫•u h√¨nh b·∫£ng Staff
            modelBuilder.Entity<Staff>(entity =>
            {
                entity.ToTable("staff");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.FullName).HasColumnName("full_name").IsRequired();
                entity.Property(e => e.StaffType).HasColumnName("staff_type");
                entity.Property(e => e.Phone).HasColumnName("phone");
                entity.Property(e => e.Department).HasColumnName("department");
            });

            // C·∫•u h√¨nh b·∫£ng TaskTemplates
            modelBuilder.Entity<TaskTemplate>(entity =>
            {
                entity.ToTable("task_templates");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.TaskName).HasColumnName("task_name").IsRequired();
                entity.Property(e => e.Description).HasColumnName("description");
            });

            // C·∫•u h√¨nh b·∫£ng EventTasks
            modelBuilder.Entity<EventTask>(entity =>
            {
                entity.ToTable("event_tasks");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.EventId).HasColumnName("event_id");
                entity.Property(e => e.TaskId).HasColumnName("task_id");
                entity.Property(e => e.StaffId).HasColumnName("staff_id");
                entity.Property(e => e.Status).HasColumnName("status").HasDefaultValue("Pending");
                entity.Property(e => e.Note).HasColumnName("note");

                // Relationships
                entity.HasOne(e => e.Event)
                    .WithMany(e => e.EventTasks)
                    .HasForeignKey(e => e.EventId)
                    .OnDelete(DeleteBehavior.Cascade);

                entity.HasOne(e => e.Task)
                    .WithMany(t => t.EventTasks)
                    .HasForeignKey(e => e.TaskId)
                    .OnDelete(DeleteBehavior.SetNull);

                entity.HasOne(e => e.Staff)
                    .WithMany(s => s.EventTasks)
                    .HasForeignKey(e => e.StaffId)
                    .OnDelete(DeleteBehavior.SetNull);
            });

            // C·∫•u h√¨nh b·∫£ng Services
            modelBuilder.Entity<Service>(entity =>
            {
                entity.ToTable("services");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.ServiceName).HasColumnName("service_name").IsRequired();
                entity.Property(e => e.BasePrice).HasColumnName("base_price").HasDefaultValue(0);
            });

            // C·∫•u h√¨nh b·∫£ng EventFinances
            modelBuilder.Entity<EventFinance>(entity =>
            {
                entity.ToTable("event_finances");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.EventId).HasColumnName("event_id");
                entity.Property(e => e.ServiceId).HasColumnName("service_id");
                entity.Property(e => e.EstimatedAmount).HasColumnName("estimated_amount").HasDefaultValue(0);
                entity.Property(e => e.EstimatedNote).HasColumnName("estimated_note");
                entity.Property(e => e.ExtraAmount).HasColumnName("extra_amount").HasDefaultValue(0);
                entity.Property(e => e.ExtraNote).HasColumnName("extra_note");
                
                // Ignore TotalAmount v√¨ n√≥ ƒë∆∞·ª£c t√≠nh trong database
                entity.Ignore(e => e.TotalAmount);

                // Relationships
                entity.HasOne(e => e.Event)
                    .WithMany(e => e.EventFinances)
                    .HasForeignKey(e => e.EventId)
                    .OnDelete(DeleteBehavior.Cascade);

                entity.HasOne(e => e.Service)
                    .WithMany(s => s.EventFinances)
                    .HasForeignKey(e => e.ServiceId)
                    .OnDelete(DeleteBehavior.SetNull);
            });

            // C·∫•u h√¨nh b·∫£ng Profiles
            modelBuilder.Entity<Profile>(entity =>
            {
                entity.ToTable("profiles");
                entity.HasKey(e => e.Id);
                entity.Property(e => e.Id).HasColumnName("id");
                entity.Property(e => e.Email).HasColumnName("email");
                entity.Property(e => e.FullName).HasColumnName("full_name");
                entity.Property(e => e.Role).HasColumnName("role").HasDefaultValue("staff");
                entity.Property(e => e.CreatedAt).HasColumnName("created_at").HasDefaultValueSql("now()");
            });
        }
    }
}
```

### B∆∞·ªõc 4.2: C·∫•u h√¨nh Connection String

Trong project `EventManager.API`, m·ªü file `appsettings.json` v√† th√™m:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=YOUR_SUPABASE_HOST;Database=postgres;Username=postgres;Password=YOUR_PASSWORD;Port=5432"
  },
  "Jwt": {
    "Key": "YOUR_SECRET_KEY_AT_LEAST_32_CHARACTERS_LONG",
    "Issuer": "EventManagerAPI",
    "Audience": "EventManagerClient",
    "ExpiryInMinutes": 60
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
```

> [!WARNING]
> **Quan tr·ªçng**: Thay th·∫ø `YOUR_SUPABASE_HOST`, `YOUR_PASSWORD`, v√† `YOUR_SECRET_KEY` b·∫±ng th√¥ng tin th·ª±c t·∫ø t·ª´ Supabase c·ªßa b·∫°n.
> 
> ƒê·ªÉ l·∫•y connection string t·ª´ Supabase:
> 1. V√†o Supabase Dashboard ‚Üí Settings ‚Üí Database
> 2. Copy Connection String (URI format)
> 3. Ch·ªçn "Use connection pooling" n·∫øu c·∫ßn

### B∆∞·ªõc 4.3: ƒêƒÉng k√Ω DbContext trong Program.cs

M·ªü file `EventManager.API/Program.cs` v√† c·∫•u h√¨nh:

```csharp
using Microsoft.EntityFrameworkCore;
using EventManager.Infrastructure.Data;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddControllers();
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

// ƒêƒÉng k√Ω DbContext v·ªõi PostgreSQL
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseNpgsql(builder.Configuration.GetConnectionString("DefaultConnection")));

// CORS (cho ph√©p frontend g·ªçi API)
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAll", policy =>
    {
        policy.AllowAnyOrigin()
              .AllowAnyMethod()
              .AllowAnyHeader();
    });
});

var app = builder.Build();

// Configure the HTTP request pipeline.
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();
app.UseCors("AllowAll");
app.UseAuthorization();
app.MapControllers();

app.Run();
```

---

## 5. Authentication & Authorization

### B∆∞·ªõc 5.1: T·∫°o DTOs cho Authentication

Trong `EventManager.Application`, t·∫°o th∆∞ m·ª•c `DTOs/Auth`:

#### `DTOs/Auth/LoginRequest.cs`

```csharp
namespace EventManager.Application.DTOs.Auth
{
    public class LoginRequest
    {
        public string Email { get; set; } = string.Empty;
        public string Password { get; set; } = string.Empty;
    }
}
```

#### `DTOs/Auth/LoginResponse.cs`

```csharp
namespace EventManager.Application.DTOs.Auth
{
    public class LoginResponse
    {
        public string Token { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string FullName { get; set; } = string.Empty;
        public string Role { get; set; } = string.Empty;
    }
}
```

### B∆∞·ªõc 5.2: T·∫°o JWT Service

Trong `EventManager.Infrastructure`, t·∫°o th∆∞ m·ª•c `Services` v√† file `JwtService.cs`:

```csharp
using System;
using System.IdentityModel.Tokens.Jwt;
using System.Security.Claims;
using System.Text;
using Microsoft.Extensions.Configuration;
using Microsoft.IdentityModel.Tokens;

namespace EventManager.Infrastructure.Services
{
    public interface IJwtService
    {
        string GenerateToken(string userId, string email, string role);
    }

    public class JwtService : IJwtService
    {
        private readonly IConfiguration _configuration;

        public JwtService(IConfiguration configuration)
        {
            _configuration = configuration;
        }

        public string GenerateToken(string userId, string email, string role)
        {
            var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(_configuration["Jwt:Key"]!));
            var credentials = new SigningCredentials(key, SecurityAlgorithms.HmacSha256);

            var claims = new[]
            {
                new Claim(JwtRegisteredClaimNames.Sub, userId),
                new Claim(JwtRegisteredClaimNames.Email, email),
                new Claim(ClaimTypes.Role, role),
                new Claim(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())
            };

            var token = new JwtSecurityToken(
                issuer: _configuration["Jwt:Issuer"],
                audience: _configuration["Jwt:Audience"],
                claims: claims,
                expires: DateTime.UtcNow.AddMinutes(Convert.ToDouble(_configuration["Jwt:ExpiryInMinutes"])),
                signingCredentials: credentials
            );

            return new JwtSecurityTokenHandler().WriteToken(token);
        }
    }
}
```

### B∆∞·ªõc 5.3: C·∫•u h√¨nh JWT Authentication

C·∫≠p nh·∫≠t `Program.cs`:

```csharp
using Microsoft.AspNetCore.Authentication.JwtBearer;
using Microsoft.IdentityModel.Tokens;
using System.Text;
using EventManager.Infrastructure.Services;

// ... (code tr∆∞·ªõc ƒë√≥)

// ƒêƒÉng k√Ω JWT Service
builder.Services.AddScoped<IJwtService, JwtService>();

// C·∫•u h√¨nh Authentication
builder.Services.AddAuthentication(options =>
{
    options.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;
    options.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;
})
.AddJwtBearer(options =>
{
    options.TokenValidationParameters = new TokenValidationParameters
    {
        ValidateIssuer = true,
        ValidateAudience = true,
        ValidateLifetime = true,
        ValidateIssuerSigningKey = true,
        ValidIssuer = builder.Configuration["Jwt:Issuer"],
        ValidAudience = builder.Configuration["Jwt:Audience"],
        IssuerSigningKey = new SymmetricSecurityKey(
            Encoding.UTF8.GetBytes(builder.Configuration["Jwt:Key"]!))
    };
});

builder.Services.AddAuthorization();

// ... (code sau)

// Trong ph·∫ßn Configure
app.UseAuthentication();
app.UseAuthorization();
```

> [!NOTE]
> **L∆∞u √Ω v·ªÅ Supabase Auth**: V√¨ b·∫°n ƒëang d√πng Supabase, b·∫°n c√≥ 2 l·ª±a ch·ªçn:
> 
> 1. **S·ª≠ d·ª•ng Supabase Auth** (Khuy·∫øn ngh·ªã): Frontend g·ªçi Supabase ƒë·ªÉ login, nh·∫≠n JWT t·ª´ Supabase, backend validate JWT ƒë√≥
> 2. **T·ª± x√¢y d·ª±ng Auth**: T·∫°o b·∫£ng users ri√™ng, hash password, t·ª± generate JWT
> 
> T√¥i s·∫Ω h∆∞·ªõng d·∫´n c·∫£ 2 c√°ch. N·∫øu d√πng c√°ch 1, b·∫°n c·∫ßn validate Supabase JWT thay v√¨ t·ª± generate.

---

## 6. X√¢y d·ª±ng API Controllers

### B∆∞·ªõc 6.1: Events Controller

Trong `EventManager.API`, t·∫°o th∆∞ m·ª•c `Controllers` v√† file `EventsController.cs`:

```csharp
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using EventManager.Domain.Entities;
using EventManager.Infrastructure.Data;

namespace EventManager.API.Controllers
{
    [ApiController]
    [Route("api/[controller]")]
    [Authorize] // Y√™u c·∫ßu ƒëƒÉng nh·∫≠p
    public class EventsController : ControllerBase
    {
        private readonly ApplicationDbContext _context;

        public EventsController(ApplicationDbContext context)
        {
            _context = context;
        }

        // GET: api/events
        [HttpGet]
        public async Task<ActionResult<IEnumerable<Event>>> GetEvents()
        {
            return await _context.Events
                .Include(e => e.EventTasks)
                .Include(e => e.EventFinances)
                .ToListAsync();
        }

        // GET: api/events/{id}
        [HttpGet("{id}")]
        public async Task<ActionResult<Event>> GetEvent(Guid id)
        {
            var eventItem = await _context.Events
                .Include(e => e.EventTasks)
                    .ThenInclude(t => t.Staff)
                .Include(e => e.EventTasks)
                    .ThenInclude(t => t.Task)
                .Include(e => e.EventFinances)
                    .ThenInclude(f => f.Service)
                .FirstOrDefaultAsync(e => e.Id == id);

            if (eventItem == null)
            {
                return NotFound();
            }

            return eventItem;
        }

        // POST: api/events
        [HttpPost]
        public async Task<ActionResult<Event>> CreateEvent(Event eventItem)
        {
            eventItem.Id = Guid.NewGuid();
            eventItem.CreatedAt = DateTime.UtcNow;

            _context.Events.Add(eventItem);
            await _context.SaveChangesAsync();

            return CreatedAtAction(nameof(GetEvent), new { id = eventItem.Id }, eventItem);
        }

        // PUT: api/events/{id}
        [HttpPut("{id}")]
        public async Task<IActionResult> UpdateEvent(Guid id, Event eventItem)
        {
            if (id != eventItem.Id)
            {
                return BadRequest();
            }

            _context.Entry(eventItem).State = EntityState.Modified;

            try
            {
                await _context.SaveChangesAsync();
            }
            catch (DbUpdateConcurrencyException)
            {
                if (!EventExists(id))
                {
                    return NotFound();
                }
                throw;
            }

            return NoContent();
        }

        // DELETE: api/events/{id}
        [HttpDelete("{id}")]
        [Authorize(Roles = "superadmin")] // Ch·ªâ superadmin m·ªõi x√≥a ƒë∆∞·ª£c
        public async Task<IActionResult> DeleteEvent(Guid id)
        {
            var eventItem = await _context.Events.FindAsync(id);
            if (eventItem == null)
            {
                return NotFound();
            }

            _context.Events.Remove(eventItem);
            await _context.SaveChangesAsync();

            return NoContent();
        }

        private bool EventExists(Guid id)
        {
            return _context.Events.Any(e => e.Id == id);
        }
    }
}
```

### B∆∞·ªõc 6.2: Staff Controller

```csharp
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using EventManager.Domain.Entities;
using EventManager.Infrastructure.Data;

namespace EventManager.API.Controllers
{
    [ApiController]
    [Route("api/[controller]")]
    [Authorize]
    public class StaffController : ControllerBase
    {
        private readonly ApplicationDbContext _context;

        public StaffController(ApplicationDbContext context)
        {
            _context = context;
        }

        // GET: api/staff
        [HttpGet]
        public async Task<ActionResult<IEnumerable<Staff>>> GetStaff()
        {
            return await _context.Staff.ToListAsync();
        }

        // GET: api/staff/{id}
        [HttpGet("{id}")]
        public async Task<ActionResult<Staff>> GetStaffMember(Guid id)
        {
            var staff = await _context.Staff.FindAsync(id);

            if (staff == null)
            {
                return NotFound();
            }

            return staff;
        }

        // POST: api/staff
        [HttpPost]
        [Authorize(Roles = "superadmin")] // Ch·ªâ superadmin m·ªõi th√™m nh√¢n s·ª±
        public async Task<ActionResult<Staff>> CreateStaff(Staff staff)
        {
            staff.Id = Guid.NewGuid();
            _context.Staff.Add(staff);
            await _context.SaveChangesAsync();

            return CreatedAtAction(nameof(GetStaffMember), new { id = staff.Id }, staff);
        }

        // PUT: api/staff/{id}
        [HttpPut("{id}")]
        [Authorize(Roles = "superadmin")]
        public async Task<IActionResult> UpdateStaff(Guid id, Staff staff)
        {
            if (id != staff.Id)
            {
                return BadRequest();
            }

            _context.Entry(staff).State = EntityState.Modified;
            await _context.SaveChangesAsync();

            return NoContent();
        }

        // DELETE: api/staff/{id}
        [HttpDelete("{id}")]
        [Authorize(Roles = "superadmin")]
        public async Task<IActionResult> DeleteStaff(Guid id)
        {
            var staff = await _context.Staff.FindAsync(id);
            if (staff == null)
            {
                return NotFound();
            }

            _context.Staff.Remove(staff);
            await _context.SaveChangesAsync();

            return NoContent();
        }
    }
}
```

### B∆∞·ªõc 6.3: C√°c Controllers kh√°c

T∆∞∆°ng t·ª±, b·∫°n t·∫°o c√°c controllers cho:
- `TaskTemplatesController.cs`
- `EventTasksController.cs`
- `ServicesController.cs`
- `EventFinancesController.cs`

> [!TIP]
> C√°c controller n√†y c√≥ c·∫•u tr√∫c t∆∞∆°ng t·ª± nh∆∞ `EventsController`, ch·ªâ kh√°c entity v√† business logic.

---

## 7. Business Logic Services

### B∆∞·ªõc 7.1: T·∫°o Finance Service

Trong `EventManager.Application`, t·∫°o th∆∞ m·ª•c `Services` v√† file `FinanceService.cs`:

```csharp
using EventManager.Domain.Entities;
using EventManager.Infrastructure.Data;
using Microsoft.EntityFrameworkCore;

namespace EventManager.Application.Services
{
    public interface IFinanceService
    {
        Task<decimal> CalculateTotalBudget(Guid eventId);
        Task<Dictionary<string, decimal>> GetBudgetBreakdown(Guid eventId);
    }

    public class FinanceService : IFinanceService
    {
        private readonly ApplicationDbContext _context;

        public FinanceService(ApplicationDbContext context)
        {
            _context = context;
        }

        public async Task<decimal> CalculateTotalBudget(Guid eventId)
        {
            var finances = await _context.EventFinances
                .Where(f => f.EventId == eventId)
                .ToListAsync();

            return finances.Sum(f => f.EstimatedAmount + f.ExtraAmount);
        }

        public async Task<Dictionary<string, decimal>> GetBudgetBreakdown(Guid eventId)
        {
            var finances = await _context.EventFinances
                .Include(f => f.Service)
                .Where(f => f.EventId == eventId)
                .ToListAsync();

            var breakdown = new Dictionary<string, decimal>
            {
                { "Kinh ph√≠ d·ª± ki·∫øn", finances.Sum(f => f.EstimatedAmount) },
                { "Kinh ph√≠ ph√°t sinh", finances.Sum(f => f.ExtraAmount) },
                { "T·ªïng c·ªông", finances.Sum(f => f.EstimatedAmount + f.ExtraAmount) }
            };

            return breakdown;
        }
    }
}
```

ƒêƒÉng k√Ω service trong `Program.cs`:

```csharp
builder.Services.AddScoped<IFinanceService, FinanceService>();
```

---

## 8. File Upload & Storage

### B∆∞·ªõc 8.1: T·∫°o File Upload Service

```csharp
using Microsoft.AspNetCore.Http;

namespace EventManager.Application.Services
{
    public interface IFileUploadService
    {
        Task<string> UploadFileAsync(IFormFile file, string folder);
        Task<bool> DeleteFileAsync(string filePath);
    }

    public class FileUploadService : IFileUploadService
    {
        private readonly string _uploadPath = "wwwroot/uploads";

        public async Task<string> UploadFileAsync(IFormFile file, string folder)
        {
            if (file == null || file.Length == 0)
                throw new ArgumentException("File is empty");

            var folderPath = Path.Combine(_uploadPath, folder);
            Directory.CreateDirectory(folderPath);

            var fileName = $"{Guid.NewGuid()}_{file.FileName}";
            var filePath = Path.Combine(folderPath, fileName);

            using (var stream = new FileStream(filePath, FileMode.Create))
            {
                await file.CopyToAsync(stream);
            }

            return $"/uploads/{folder}/{fileName}";
        }

        public Task<bool> DeleteFileAsync(string filePath)
        {
            var fullPath = Path.Combine("wwwroot", filePath.TrimStart('/'));
            if (File.Exists(fullPath))
            {
                File.Delete(fullPath);
                return Task.FromResult(true);
            }
            return Task.FromResult(false);
        }
    }
}
```

> [!NOTE]
> **T√≠ch h·ª£p Supabase Storage**: N·∫øu mu·ªën upload l√™n Supabase Storage thay v√¨ local, b·∫°n c·∫ßn:
> 1. C√†i package `supabase-csharp`
> 2. S·ª≠ d·ª•ng Supabase Storage API ƒë·ªÉ upload
> 3. Tr·∫£ v·ªÅ public URL t·ª´ Supabase

---

## 9. SignalR Real-time

### B∆∞·ªõc 9.1: T·∫°o Hub

Trong `EventManager.API`, t·∫°o th∆∞ m·ª•c `Hubs` v√† file `EventHub.cs`:

```csharp
using Microsoft.AspNetCore.SignalR;

namespace EventManager.API.Hubs
{
    public class EventHub : Hub
    {
        public async Task SendEventUpdate(string eventId, string message)
        {
            await Clients.All.SendAsync("ReceiveEventUpdate", eventId, message);
        }

        public async Task NotifyTaskAssignment(string staffId, string taskName)
        {
            await Clients.All.SendAsync("ReceiveTaskAssignment", staffId, taskName);
        }
    }
}
```

### B∆∞·ªõc 9.2: ƒêƒÉng k√Ω SignalR

Trong `Program.cs`:

```csharp
// Th√™m SignalR
builder.Services.AddSignalR();

// Trong Configure
app.MapHub<EventHub>("/hubs/event");
```

---

## 10. Testing & Documentation

### B∆∞·ªõc 10.1: Ch·∫°y ·ª©ng d·ª•ng

```powershell
cd EventManager.API
dotnet run
```

M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p: `https://localhost:5001/swagger`

### B∆∞·ªõc 10.2: Test API v·ªõi Swagger

Swagger UI s·∫Ω hi·ªÉn th·ªã t·∫•t c·∫£ endpoints. B·∫°n c√≥ th·ªÉ:
1. Test t·ª´ng endpoint
2. Xem request/response schema
3. Th·ª≠ nghi·ªám authentication

### B∆∞·ªõc 10.3: K·∫øt n·ªëi v·ªõi Frontend

T·ª´ React frontend, b·∫°n g·ªçi API nh∆∞ sau:

```javascript
// Login
const response = await fetch('https://localhost:5001/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ email, password })
});
const data = await response.json();
localStorage.setItem('token', data.token);

// Get Events
const events = await fetch('https://localhost:5001/api/events', {
  headers: { 'Authorization': `Bearer ${token}` }
});
```

---

## üìö T√†i li·ªáu tham kh·∫£o

- [ASP.NET Core Documentation](https://docs.microsoft.com/aspnet/core)
- [Entity Framework Core](https://docs.microsoft.com/ef/core)
- [JWT Authentication](https://jwt.io/introduction)
- [Npgsql - PostgreSQL for .NET](https://www.npgsql.org/)
- [SignalR Documentation](https://docs.microsoft.com/aspnet/core/signalr)

---

## ‚ùì C√¢u h·ªèi th∆∞·ªùng g·∫∑p

### 1. L√†m sao ƒë·ªÉ k·∫øt n·ªëi v·ªõi Supabase?

S·ª≠ d·ª•ng connection string t·ª´ Supabase Dashboard. Npgsql s·∫Ω k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi PostgreSQL database.

### 2. C√≥ c·∫ßn migration kh√¥ng?

**Kh√¥ng c·∫ßn** v√¨ database ƒë√£ t·ªìn t·∫°i tr√™n Supabase. Ch·ªâ c·∫ßn c·∫•u h√¨nh Entity Models kh·ªõp v·ªõi schema hi·ªán t·∫°i.

### 3. L√†m sao ƒë·ªÉ validate Supabase JWT?

B·∫°n c·∫ßn c·∫•u h√¨nh JWT validation v·ªõi public key t·ª´ Supabase:

```csharp
options.TokenValidationParameters = new TokenValidationParameters
{
    ValidateIssuerSigningKey = true,
    IssuerSigningKey = new SymmetricSecurityKey(
        Encoding.UTF8.GetBytes("YOUR_SUPABASE_JWT_SECRET")),
    ValidateIssuer = true,
    ValidIssuer = "https://YOUR_PROJECT.supabase.co/auth/v1",
    ValidateAudience = false
};
```

### 4. Upload file l√™n Supabase Storage nh∆∞ th·∫ø n√†o?

S·ª≠ d·ª•ng package `supabase-csharp`:

```csharp
var supabase = new Supabase.Client("YOUR_URL", "YOUR_KEY");
var result = await supabase.Storage
    .From("event_assets")
    .Upload(fileBytes, fileName);
```

---

## üéØ B∆∞·ªõc ti·∫øp theo

1. ‚úÖ T·∫°o project theo h∆∞·ªõng d·∫´n
2. ‚úÖ Test c√°c API endpoints
3. ‚úÖ T√≠ch h·ª£p v·ªõi frontend React hi·ªán t·∫°i
4. ‚úÖ Deploy l√™n Azure/AWS/Railway

> [!IMPORTANT]
> N·∫øu b·∫°n g·∫∑p b·∫•t k·ª≥ l·ªói n√†o trong qu√° tr√¨nh l√†m theo h∆∞·ªõng d·∫´n, h√£y cho t√¥i bi·∫øt c·ª• th·ªÉ l·ªói ƒë√≥ v√† t√¥i s·∫Ω gi√∫p b·∫°n gi·∫£i quy·∫øt!
